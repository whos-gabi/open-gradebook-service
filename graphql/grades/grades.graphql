type Grade {
  id: Int!
  studentId: Int!
  subjectId: Int!
  gradeValue: Float!
  gradeDate: String!
  comments: String
  student: User
  subject: Subject
}

input AddGradeInput {
  studentId: Int!
  subjectId: Int!
  gradeValue: Float!
  comments: String
}

type Query {
  """
  Get all grades for a specific student.
  Teachers can query any student's grades.
  Students can only query their own grades.
  """
  getStudentGrades(studentId: Int!): [Grade!]!
}

type Mutation {
  """
  Add a new grade for a student.
  Only teachers can add grades.
  After creation, publishes a real-time event to the student.
  """
  addGrade(input: AddGradeInput!): Grade!
}

type Subscription {
  """
  Subscribe to real-time grade notifications.
  Each student receives only their own grades via dynamic channel.
  Requires authenticated WebSocket connection.
  """
  gradeAdded(studentId: Int!): Grade!
}
